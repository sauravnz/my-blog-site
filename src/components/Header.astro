---
import ThemeToggle from './ThemeToggle.astro';
---

<header class="sticky top-0 z-40 w-full border-b border-[var(--border-light)] bg-[var(--bg)]/95 backdrop-blur-md">
  <div class="container mx-auto px-4 py-5">
    <div class="flex items-center justify-between">
      <!-- Logo/Brand - Elegant Serif -->
      <a href="/" class="text-3xl md:text-4xl font-serif font-bold text-[var(--text-primary)] hover:text-[var(--accent)] transition-colors">
        Notes
      </a>

      <!-- Navigation - Elegant -->
      <nav class="hidden md:flex items-center space-x-8">
        <a href="/" class="text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors font-medium">
          Home
        </a>
        <a href="/notes" class="text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors font-medium">
          Notes
        </a>
        <a href="/tags" class="text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors font-medium">
          Tags
        </a>
        <a href="/search" class="text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors font-medium">
          Search
        </a>
        <a href="/about" class="text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors font-medium">
          About
        </a>
        <a href="/projects" class="text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors font-medium">
          Projects
        </a>
        <a href="/connect" class="px-6 py-2.5 bg-[var(--accent)] text-white rounded-full hover:bg-[var(--accent-hover)] transition-all font-medium shadow-elegant-sm hover:shadow-elegant">
          Connect
        </a>
      </nav>

      <!-- Theme Toggle and Mobile Menu -->
      <div class="flex items-center space-x-4">
        <ThemeToggle />

        <!-- Mobile menu button - Elegant -->
        <button
          id="mobile-menu-button"
          class="md:hidden p-2 rounded-lg hover:bg-[var(--muted)] transition-colors"
          aria-label="Toggle mobile menu"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation - Elegant -->
    <nav id="mobile-menu" class="hidden md:hidden mt-6 pb-4 border-t border-[var(--border-light)]">
      <div class="flex flex-col space-y-3 pt-6">
        <a href="/" class="px-4 py-2.5 text-[var(--text-secondary)] hover:text-[var(--accent)] hover:bg-[var(--muted)] rounded-lg transition-all font-medium">
          Home
        </a>
        <a href="/notes" class="px-4 py-2.5 text-[var(--text-secondary)] hover:text-[var(--accent)] hover:bg-[var(--muted)] rounded-lg transition-all font-medium">
          Notes
        </a>
        <a href="/tags" class="px-4 py-2.5 text-[var(--text-secondary)] hover:text-[var(--accent)] hover:bg-[var(--muted)] rounded-lg transition-all font-medium">
          Tags
        </a>
        <a href="/search" class="px-4 py-2.5 text-[var(--text-secondary)] hover:text-[var(--accent)] hover:bg-[var(--muted)] rounded-lg transition-all font-medium">
          Search
        </a>
        <a href="/about" class="px-4 py-2.5 text-[var(--text-secondary)] hover:text-[var(--accent)] hover:bg-[var(--muted)] rounded-lg transition-all font-medium">
          About
        </a>
        <a href="/projects" class="px-4 py-2.5 text-[var(--text-secondary)] hover:text-[var(--accent)] hover:bg-[var(--muted)] rounded-lg transition-all font-medium">
          Projects
        </a>
        <a href="/connect" class="px-4 py-2.5 bg-[var(--accent)] text-white rounded-lg hover:bg-[var(--accent-hover)] transition-all font-medium text-center shadow-elegant-sm">
          Connect
        </a>
      </div>
    </nav>
  </div>
</header>

<script>
  // Mobile menu toggle
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!mobileMenuButton.contains(e.target as Node) && !mobileMenu.contains(e.target as Node)) {
        mobileMenu.classList.add('hidden');
      }
    });
  }
</script>
